{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gm830/OneDrive/Desktop/iNeuron/ecommerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gm830/OneDrive/Desktop/iNeuron/ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gm830/OneDrive/Desktop/iNeuron/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import\"./Product.css\";import Navbar from'../../components/navbar/Navbar';import{useNavigate,useParams}from'react-router-dom';import Footer from'../../components/footer/Footer';import Loading from'../../components/loading/Loading';import{useDispatch}from'react-redux';import{cartAction}from'../../store/cart-slice';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var productId=useParams().productId;var fetchProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://fakestoreapi.com/products/\".concat(productId));case 3:response=_context.sent;if(!response.ok)navigate(\"/error\");_context.next=7;return response.json();case 7:data=_context.sent;setProduct(data);setRating(data.rating);setLoading(false);case 11:case\"end\":return _context.stop();}},_callee);}));return function fetchProduct(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProduct();},[productId]);var addToCartHandler=function addToCartHandler(){dispatch(cartAction.addItemToCart(product));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),loading?/*#__PURE__*/_jsx(Loading,{}):product&&/*#__PURE__*/_jsx(\"div\",{className:\"py-3 py-md-5 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"w-100\",alt:\"Img\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7 mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-view\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"product-name\",children:[product.title,/*#__PURE__*/_jsx(\"label\",{className:\"label-stock bg-success\",children:\"In Stock\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"selling-price\",children:[\"$\",product.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[new Array(5).fill(1).map(function(_,index){return rating.rate>=index+1?/*#__PURE__*/_jsx(\"i\",{className:\"faColor fa fa-star\"},index):rating.rate*10%10>=5?/*#__PURE__*/_jsx(\"i\",{className:\"faColor fa fa-star-half-o\"},index):/*#__PURE__*/_jsx(\"i\",{className:\"faColor fa fa-star-o\"},index);}),/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",rating.count,\")\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn1\",onClick:addToCartHandler,children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-cart\"}),\" Add To Cart\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/products/\"+product.id+\"/checkout\",className:\"btn btn1\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-money\"}),\" Buy Now \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Small Description\"}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"p\",{children:product.description})})]})})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Product;","map":{"version":3,"names":["React","useEffect","useState","Navbar","useNavigate","useParams","Footer","Loading","useDispatch","cartAction","Link","jsx","_jsx","jsxs","_jsxs","Product","dispatch","navigate","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","rating","setRating","_useState5","_useState6","loading","setLoading","productId","fetchProduct","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","ok","json","stop","apply","arguments","addToCartHandler","addItemToCart","children","className","src","image","alt","title","price","Array","fill","map","_","index","rate","count","onClick","to","id","description"],"sources":["C:/Users/gm830/OneDrive/Desktop/iNeuron/ecommerce/src/pages/product/Product.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport \"./Product.css\"\r\nimport Navbar from '../../components/navbar/Navbar'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport Footer from '../../components/footer/Footer'\r\nimport Loading from '../../components/loading/Loading'\r\nimport { useDispatch } from 'react-redux'\r\nimport { cartAction } from '../../store/cart-slice'\r\nimport { Link } from 'react-router-dom'\r\nconst Product = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [product, setProduct] = useState()\r\n    const [rating, setRating] = useState(0)\r\n    const [loading, setLoading] = useState(false)\r\n    const productId = useParams().productId\r\n    const fetchProduct = async () => {\r\n        setLoading(true)\r\n        const response = await fetch(`https://fakestoreapi.com/products/${productId}`)\r\n        if (!response.ok)\r\n            navigate(\"/error\")\r\n        const data = await response.json()\r\n        setProduct(data)\r\n        setRating(data.rating)\r\n        setLoading(false)\r\n    }\r\n    useEffect(() => {\r\n        fetchProduct()\r\n    }, [productId])\r\n\r\n    const addToCartHandler = () => {\r\n        dispatch(cartAction.addItemToCart(product))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            {loading ? <Loading /> : product && <div className=\"py-3 py-md-5 bg-light\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-5 mt-3\">\r\n                            <div className=\"bg-white border\">\r\n                                <img src={product.image} className=\"w-100\" alt=\"Img\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-7 mt-3\">\r\n                            <div className=\"product-view\">\r\n                                <h4 className=\"product-name\">\r\n                                    {product.title}\r\n                                    <label className=\"label-stock bg-success\">In Stock</label>\r\n                                </h4>\r\n                                <hr />\r\n                                <div>\r\n                                    <span className=\"selling-price\">${product.price}</span>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <div className=\"input-group\">\r\n                                        {new Array(5).fill(1).map((_, index) =>\r\n                                            rating.rate >= index + 1 ? (\r\n                                                <i key={index} className=\"faColor fa fa-star\"></i>\r\n                                            ) : ((rating.rate * 10) % 10) >= 5 ? (\r\n                                                <i key={index} className=\"faColor fa fa-star-half-o\"></i>\r\n                                            ) : (\r\n                                                <i key={index} className=\"faColor fa fa-star-o\"></i>\r\n                                            )\r\n                                        )}\r\n                                        <span>({rating.count})</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <div className=\"btn btn1\" onClick={addToCartHandler}> <i className=\"fa fa-shopping-cart\"></i> Add To Cart</div>\r\n                                    <Link to={\"/products/\" + product.id + \"/checkout\"} className=\"btn btn1\"> <i className=\"fa fa-money\"></i> Buy Now </Link>\r\n                                </div>\r\n                                <div className=\"mt-3\">\r\n                                    <h5 className=\"mb-0\">Small Description</h5>\r\n                                    <p>\r\n                                        {product.description}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12 mt-3\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header bg-white\">\r\n                                    <h4>Description</h4>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <p>\r\n                                        {product.description}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n            <Footer />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Product\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}